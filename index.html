<!DOCTYPE html>
<html lang="en">
    <head>
        <link rel="icon" type="image/gif" href="assets/images/icon.png"/>
        <meta charset="utf-8" />
        <title>RPG</title>
        <meta name="description" content="RPG by marshmarlows and rsninja">
        <style>
            html {background-color: #1e1e1e;color: #4de1f5;}
            body {margin: 0;}
            canvas {image-rendering: pixelated;image-rendering: -moz-crisp-edges;text-rendering: geometricPrecision;position:absolute;top:0;left:0;}
            div {border: 1px solid rgb(63, 63, 63);box-shadow: 0px 5px 5px 0px black;padding: 2px; margin: 2px; font-family: monospace;}
            h2, p, pre{margin: 2px;}
            input, select{background-color: #181818;border: 1px solid #101010;border-top-color: #000000;border-bottom-color: #333333; border-radius: 2px;color: #4de1f5;width: 50px;}
            button {background-color: #353535;border-color: #555555;color: #4de1f5; margin: 2px;border-style: outset;cursor: pointer; padding: 0, 3px, 0, 3px;border-width: 1px;}
            button:hover {background-color: #555555;}
            button:active {border-style: inset;}
            img {image-rendering: pixelated;image-rendering: -moz-crisp-edges;}
            ::-webkit-scrollbar {width: 5px;}
            ::-webkit-scrollbar-track {background: #1e1e1e; }
            ::-webkit-scrollbar-thumb {background: #444444; }
            ::-webkit-scrollbar-thumb:hover {background: #666666; }
            #build {visibility: hidden; position: absolute; left: 10px; top: 10px; z-index: 10;}
            #buildTable {background-color: #1e1e1e;}
            input[type="file"] {display: none;}
            .custom-file-upload {background-color: #353535;border-color: #555555;color: #4de1f5; margin: 2px;border-style: outset;cursor: pointer; padding: 5px;border-width: 1px;display: inline-block;}
        </style>
    </head>
    <body> 
        <canvas width="800" height="600" id="game" style="cursor: crosshair;"></canvas>
        <img src="assets/images/tempLoading.gif" style="display: none;position:absolute;top:0;bottom:0;right:0;left:0;margin:auto;" id="load"></img>

        <div id="build" style="width: 450px;">
            w:<input type="number" value="30" id="roomW">h:<input type="number" value="20" id="roomH"><button style="width: 100px;" id="newRoom">create room</button><button id="help">help</button><br>
            room name:<input value="unnamedRoom" style="width: 150px;" id="name"><button id="save">save</button><br>
            <label for="fileUpload" class="custom-file-upload">load</label>
            <input id="fileUpload" type="file"><br> 
            <div>
                random angle:<input type="checkbox" id="randAngle" style="width: 20px;"><br>
                fill type:<select id="fillType" style="width: 75px;"><option value="exact">exact</option><option value="id">same ID</option></select>
            </div>
            <div style="display: none;" id="helpDiv">
                <h2>Help</h2>
                <p><b>Controls</b></p>
                <pre>
w,a,s,d - movement
shift   - center view
q,e     - rotation
x       - pencil
c       - bucket
v,esc   - pointer
lmb     - use tool
rmb     - select tile
z       - undo
y       - redo
arrows  - select tile
0-9     - select variation
del,back- delete selected object
                </pre>
                <p><b>Usage</b></p>
                <pre>
create - set width and height in the w and h boxes, then press create room
save   - name the room with the name box, then press save
load   - press load and select the .json of the room
                </pre>
                <p><b>Tools</b></p>
                <pre>
pen     - hold lmb to draw
bucket  - click to fill area with a tile
pointer - click an object to select it 
                </pre>
            </div>
            <button style="background-color: #138681; width: 36px; height: 36px; padding: 0;" id="selectPen"><img src="assets/images/buildPen.png" style="width: 32px;height: 32px;"></button><button style="background-color: #138681; width: 36px; height: 36px; padding: 0;" id="selectBucket"><img src="assets/images/buildBucket.png" style="width: 32px;height: 32px;"></button><button style="background-color: #138681; width: 36px; height: 36px; padding: 0;" id="selectPointer"><img src="assets/images/buildPointer.png" style="width: 32px;height: 32px;"></button><br>
            <span id="buildInfo"></span>
            <table id="buildVariations"></table>
            <div style="height: 500px; overflow-y: scroll;"><table><tbody id="buildTable"><tr style="height: 0px;"><td style="position: relative; width: 36px; height: 36px; background-color: #ffffff30; z-index: 100;" id="tableSelection"></td></tr></tbody></table></div>
        </div>
        <button id="hideShow" style="position: relative;left: 475px;top: 10px;display: none;">hide</button>
        <div id="object" style="position: absolute;right: 100px;display: none;">

        </div>
        <!-- when compressing code, copy all script tags, and use them in concatenateJavascript.jar an use https://xem.github.io/terser-online -->
        <script src="scripts/game.js"></script>
        <script src="scripts/utils.js"></script>
        <script src="scripts/entities/entity.js"></script>
        <script src="scripts/entities/player.js"></script>
        <script src="scripts/overworld/overworld.js"></script>
        <script src="scripts/world/world.js"></script>
        <script src="scripts/world/build.js"></script>
        <script src="scripts/world/buildUI.js"></script>
        <script src="scripts/world/saveLoad.js"></script>
        <script src="scripts/world/rooms.js"></script>
        <script src="scripts/world/render.js"></script>
        <script src="scripts/world/tiles/tiles.js"></script>
        <script src="scripts/world/tiles/baseWall.js"></script>
        <script src="scripts/world/tiles/definitions/tileBrickPath.js"></script>
        <script src="scripts/world/tiles/definitions/tileGrass.js"></script>
        <script src="scripts/world/tiles/definitions/tilePath.js"></script>
        <script src="scripts/world/tiles/definitions/wallBrick.js"></script>
        <script src="scripts/world/tiles/definitions/WallHouse.js"></script>
        <script src="scripts/world/objects/object.js"></script>
        <script src="scripts/world/objects/definitions/objectHouseEntrance.js"></script>
        <script src="scripts/world/objects/definitions/objectHouseSmokeStack.js"></script>
        <script src="scripts/index.js"></script>
        <!-- <script src="mini.js"></script> -->
    </body>
</html>     